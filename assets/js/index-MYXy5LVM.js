import{r as n,a5 as u}from"../../static/js/index-DDTYh6Ss.js";const v=({x:t,y:s,direction:e})=>{const r=n.useRef(null);return n.useEffect(()=>{r.current&&(r.current.style.left=`${t}px`,r.current.style.top=`${s}px`,r.current.style.transform=`rotate(${e==="up"?0:e==="down"?180:e==="left"?-90:90}deg)`)},[t,s,e]),u.jsxDEV("div",{ref:r,style:{position:"absolute",width:"40px",height:"40px",backgroundColor:"green",transition:"left 0.1s, top 0.1s"}},void 0,!1,{fileName:"D:/demo/react-vite-ts/react-vite-ts/src/views/home/components/Tanks.tsx",lineNumber:25,columnNumber:5},void 0)},p=({x:t,y:s})=>{const e=n.useRef(null);return n.useEffect(()=>{e.current&&(e.current.style.left=`${t}px`,e.current.style.top=`${s}px`)},[t,s]),u.jsxDEV("div",{ref:e,style:{position:"absolute",width:"10px",height:"10px",backgroundColor:"red",transition:"left 0.1s, top 0.1s"}},void 0,!1,{fileName:"D:/demo/react-vite-ts/react-vite-ts/src/views/home/components/Bullet.tsx",lineNumber:20,columnNumber:5},void 0)},w=()=>{const[t,s]=n.useState({x:100,y:100}),[e,r]=n.useState("up"),[x,m]=n.useState([]);return n.useEffect(()=>{const o=c=>{const{x:i,y:a}=t;switch(c.key){case"ArrowUp":r("up"),s({x:i,y:a-10});break;case"ArrowDown":r("down"),s({x:i,y:a+10});break;case"ArrowLeft":r("left"),s({x:i-10,y:a});break;case"ArrowRight":r("right"),s({x:i+10,y:a});break;case" ":m(l=>[...l,{x:t.x+15,y:t.y+15,direction:e}]);break}};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,e]),n.useEffect(()=>{const c=setInterval(()=>{m(i=>i.map(a=>{let{x:l,y:d,direction:f}=a;switch(f){case"up":d-=5;break;case"down":d+=5;break;case"left":l-=5;break;case"right":l+=5;break}return{x:l,y:d,direction:f}}))},50);return()=>clearInterval(c)},[]),u.jsxDEV("div",{style:{position:"relative",width:"800px",height:"600px",border:"1px solid black"},children:[u.jsxDEV(v,{x:t.x,y:t.y,direction:e},void 0,!1,{fileName:"D:/demo/react-vite-ts/react-vite-ts/src/views/home/index.tsx",lineNumber:77,columnNumber:7},void 0),x.map((o,c)=>u.jsxDEV(p,{x:o.x,y:o.y,direction:o.direction},c,!1,{fileName:"D:/demo/react-vite-ts/react-vite-ts/src/views/home/index.tsx",lineNumber:79,columnNumber:9},void 0))]},void 0,!0,{fileName:"D:/demo/react-vite-ts/react-vite-ts/src/views/home/index.tsx",lineNumber:76,columnNumber:5},void 0)};export{w as default};
